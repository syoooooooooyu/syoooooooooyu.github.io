<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>あれれ～～おにいちゃんじゃ～ん♡</title>
</head>
<body>
<script type="text/javascript">
    const recognition = new webkitSpeechRecognition();
    recognition.lang = "ja-JP";
    recognition.continuous = true;
    let input;
    let t;
    let audio;
    let now = 0;
    recognition.onresult = (event) => {
        input = event.results[now][0].transcript;
        console.log(input);
        now = now + 1;
        if(input.indexOf("雑魚") !== -1){
            t = "ざぁーこ";
            audio = new Audio("https://api.su-shiki.com/v2/voicevox/audio/?key=A731d73601z7e-3&speaker=8&pitch=0&intonationScale=1&speed=1&text=" + t);
            audio.play();
        }else if(input.indexOf("キモ") !== -1 || input.indexOf("きも") !== -1){
            t = "お兄ちゃんキモイよ";
            audio = new Audio("https://api.su-shiki.com/v2/voicevox/audio/?key=A731d73601z7e-3&speaker=8&pitch=0&intonationScale=1&speed=1&text=" + t);
            audio.play();
        }else if(input.indexOf("死ね") !== -1) {
            t = "早く死ねばいいのに";
            audio = new Audio("https://api.su-shiki.com/v2/voicevox/audio/?key=A731d73601z7e-3&speaker=8&pitch=0&intonationScale=1&speed=1&text=" + t);
            audio.play();
        }
    }
</script>
<p></p>
<button onclick="recognition.start()">recording(話した内容はどこにも記録されません)</button>
<p>https://arutora.com/15923 を参考にして 「VB-CABLE」 をインストールしてください。</p>
<p>chromeの右上にある3点のアイコンから設定を開き、</p>
<p>[プライバシーとセキュリティ] -> [サイトの設定] -> [マイク] をクリックします。</p>
<p>[マイク] から既定のマイク入力を [CABLE Output (VB-AUDIO ~)] に変更します。</p>
<p>Windows [設定] -> [サウンドの設定] -> [サウンドの詳細設定] -> [録音] の [CABLE Output (VB-AUDIO ~)] を右クリックします。</p>
<p>[プロパティ] -> [聴く] -> [このデバイスを聞く] にチェックを付けます。</p>
<img src="sample.png" alt="">
<p>VC等できるアプリの出力を [VB-CABLE] に変更します。</p>
<p>このサイトのボタン [recording] をクリックします。</p>
<p></p>
</body>
</html>
